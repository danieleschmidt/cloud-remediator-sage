# SonarQube Configuration for Cloud Remediator Sage
# Advanced code quality analysis and technical debt management

# Project identification
sonar.projectKey=cloud-remediator-sage
sonar.projectName=Cloud Remediator Sage
sonar.projectVersion=0.1.0
sonar.organization=terragon-labs

# Source code configuration
sonar.sources=src/
sonar.tests=tests/
sonar.sourceEncoding=UTF-8
sonar.language=js

# Coverage configuration
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.coverage.exclusions=**/*.test.js,**/*.spec.js,**/fixtures/**,**/mocks/**

# Quality gates and metrics
sonar.qualitygate.wait=true

# Code analysis configuration
sonar.inclusions=src/**/*.js,scripts/**/*.js
sonar.exclusions=node_modules/**,coverage/**,.serverless/**,dist/**,build/**

# Security analysis
sonar.security.hotspots.inheritance.enabled=true

# Duplication detection
sonar.cpd.exclusions=**/*.test.js,**/fixtures/**

# Technical debt configuration
sonar.technicalDebt.hoursInDay=8
sonar.technicalDebt.ratingGrid=0.05,0.1,0.2,0.5

# Issue assignment
sonar.issues.defaultAssigneeLogin=danieleschmidt

# Branch analysis (for PR decoration)
# sonar.pullrequest.key=${PULL_REQUEST_NUMBER}
# sonar.pullrequest.branch=${PULL_REQUEST_BRANCH}
# sonar.pullrequest.base=${PULL_REQUEST_BASE}

# Performance optimization
sonar.scm.provider=git
sonar.scm.forceReloadAll=false

# Lambda-specific analysis
sonar.javascript.environments=node,lambda

# AWS and serverless specific rules
sonar.issue.ignore.multicriteria=e1,e2,e3
# Ignore AWS SDK complexity warnings in Lambda functions
sonar.issue.ignore.multicriteria.e1.ruleKey=javascript:S3776
sonar.issue.ignore.multicriteria.e1.resourceKey=src/lambda/**/*.js
# Ignore console.log in Lambda functions (CloudWatch logging)
sonar.issue.ignore.multicriteria.e2.ruleKey=javascript:S2228
sonar.issue.ignore.multicriteria.e2.resourceKey=src/lambda/**/*.js
# Ignore dynamic require in backlog system (autonomous functionality)
sonar.issue.ignore.multicriteria.e3.ruleKey=javascript:S3799
sonar.issue.ignore.multicriteria.e3.resourceKey=src/backlog/**/*.js